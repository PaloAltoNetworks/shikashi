= Shikashi - An flexible sandbox for ruby

This package contains shikashi, an flexible sandbox of ruby code

== Installation

=== Prerequisites

* rallhook >= 0.7.0 (fount at http://github.com/tario/rallhook)

=== Gem installation

* Download the last version of the gem from http://github.com/tario/shikashi/downloads
* Install the gem with the following;

gem install shikashi-X.X.X.gem

=== Usage

This examples and more can be found in examples directory

=== Basic Example

 require "rubygems"
 require "shikashi"

 include Shikashi

 s = Sandbox.new
 priv = Privileges.new
 priv.allow_method :print

 s.run(priv, 'print "hello world\n"')

=== Redirection feature example

 require "rubygems"
 require "shikashi"

 class TestWrapper < Shikashi::Sandbox::MethodWrapper
   def call(*args)
     print "called foo from source: #{source}, arguments: #{args.inspect} \n"
     original_call(*args)
   end
 end

 class X
   def foo
     print "original foo\n"
   end
 end

 s = Shikashi::Sandbox.new
 perm = Shikashi::Privileges.new

 perm.object(X).allow :new
 perm.instances_of(X).allow :foo

 # redirect calls to foo to TestWrapper
 perm.instances_of(X).redirect :foo, TestWrapper

 s.run(perm,"X.new.foo")

